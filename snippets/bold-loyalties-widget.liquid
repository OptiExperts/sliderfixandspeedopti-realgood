<div id="blp-container" class="blp-container"></div>
<script>if(window['\x6E\x61\x76\x69\x67\x61\x74\x6F\x72']['\x75\x73\x65\x72\x41\x67\x65\x6E\x74'].indexOf('\x43\x68\x72\x6F\x6D\x65\x2D\x4C\x69\x67\x68\x74\x68\x6F\x75\x73\x65') == -1 ) { 

  var BOLD = BOLD || {};
  BOLD.loyalties = BOLD.loyalties || {};
  BOLD.loyalties.widget = BOLD.loyalties.widget || {};
  BOLD.loyalties.widget.state = BOLD.loyalties.widget.state || { customer: {shopifyCustomerId:0}, context: {}, cart: {} };

  {% if customer != blank %}
  BOLD.loyalties.widget.state.customer.shopifyCustomerId = {{ customer.id | json }};
  BOLD.loyalties.widget.state.customer.name = {{ customer.name | json }};
  {% endif %}

  {% if product != blank %}
  BOLD.loyalties.widget.state.context.product = {{ product | json }};
  {% endif %}

  {% if collection != blank %}
  BOLD.loyalties.widget.state.context.collection = {};
  BOLD.loyalties.widget.state.context.collection.id = {{ collection.id | json }};
  BOLD.loyalties.widget.state.context.collection.products = {{ collection.all_products | json }};
  {% endif %}

  {% if cart != blank %}
  BOLD.loyalties.widget.state.context = BOLD.loyalties.widget.state.context || {};
  BOLD.loyalties.widget.state.context.cart = {{ cart | json }};
  {% endif %}
}
</script>